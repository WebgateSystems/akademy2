<div class="dashboard-app" data-dashboard-app>
  <aside class="dashboard-sidebar">
    <div class="dashboard-logo">
      <div class="dashboard-logo__brand">

        <%= image_tag "icons/logo/Akademy_logo.svg",
          class: "dashboard-logo__icon",
          width: 32,
          height: 32,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>

        <%= image_tag "icons/logo/Akademy_logo_full.svg",
          class: "dashboard-logo__full",
          alt: "Academy 2.0",
          data: { theme_icon: true } %>

      </div>

      <button class="dashboard-collapse-toggle" type="button" aria-label="Collapse sidebar" aria-expanded="true" data-sidebar-collapse-toggle>

        <%= image_tag "icons/social/M/close-sidebar.svg",
          class: "dashboard-collapse-toggle__icon dashboard-collapse-toggle__icon--collapse",
          width: 24,
          height: 24,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>

        <%= image_tag "icons/social/M/open-sidebar.svg",
          class: "dashboard-collapse-toggle__icon dashboard-collapse-toggle__icon--expand",
          width: 24,
          height: 24,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>

      </button>
    </div>

    <nav class="dashboard-nav" aria-label="Primary">
      <a class="dashboard-nav__button is-active" href="/pages/teacher" aria-current="page">
        <%= image_tag "icons/social/M/people_outline.svg",
          width: 20,
          height: 20,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>
        <span class="dashboard-nav__label">Class 4B</span>
        <span class="notification-counter" aria-hidden="true">3</span>
      </a>

      <a class="dashboard-nav__button" href="/pages/teacher">
        <%= image_tag "icons/social/M/people_outline.svg",
          width: 20,
          height: 20,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>
        <span class="dashboard-nav__label">Class 7A</span>
      </a>

      <a class="dashboard-nav__button" href="/pages/teacher">
        <%= image_tag "icons/social/M/people_outline.svg",
          width: 20,
          height: 20,
          alt: "",
          aria: { hidden: true },
          data: { theme_icon: true } %>
        <span class="dashboard-nav__label">Class 4A</span>
        <span class="notification-counter" aria-hidden="true">1</span>
      </a>
    </nav>
  </aside>

  <div class="dashboard-sidebar-overlay" data-sidebar-overlay aria-hidden="true"></div>

  <main class="dashboard-main">
    <header class="dashboard-top-bar">
      <button class="dashboard-sidebar-toggle" type="button" aria-label="Toggle navigation" data-sidebar-toggle>

        <%= image_tag "icons/social/M/burger.svg",
          width: 24,
          height: 24,
          alt: "",
          data: { theme_icon: true } %>

      </button>

      <h1>Class 4B (2025/2026)</h1>

      <div class="dashboard-top-actions">

        <a class="icon-pill" href="/pages/admin/notifications.html" aria-label="Notifications">
          <span class="notification-counter" aria-hidden="true">3</span>

          <%= image_tag "icons/social/M/notifications.svg",
            alt: "",
            data: { theme_icon: true } %>

        </a>

        <div class="settings-control">
          <button class="icon-pill" type="button" aria-label="Settings" data-theme-toggle-trigger aria-expanded="false">

            <%= image_tag "icons/social/M/settings.svg",
              alt: "",
              data: { theme_icon: true } %>

          </button>

          <div class="theme-switcher" id="theme-switcher" hidden>
            <div class="theme-switcher__row">
              <div>
                <p class="theme-switcher__label">Dark mode</p>
                <p class="theme-switcher__hint">Remembers your preference</p>
              </div>
              <label class="theme-switcher__toggle">
                <input type="checkbox" id="theme-toggle-input" aria-label="Toggle dark mode">
                <span class="theme-switcher__slider" aria-hidden="true"></span>
              </label>
            </div>

              <%= button_to 'Logout',
                destroy_user_session_path,
                method: :delete,
                class: 'user-dropdown__item user-dropdown__logout',
                form: { class: 'dropdown-logout-form' } %>
          </div>
        </div>
      </div>
    </header>

    <div class="school-profile" data-state="filled">
      <section class="school-profile-hero" aria-label="Invite teachers to your school">
        <div class="school-profile-hero__text">
          <h2>Let‚Äôs build your school together!</h2>
          <p>Download the QR code or share the school code so your teachers can join your school.</p>
          <div class="school-profile-hero__actions">
            <button class="school-profile-hero__button school-profile-hero__button--primary" type="button">Download</button>
            <button class="school-profile-hero__button" type="button">Copy code</button>
          </div>
        </div>

        <div class="school-profile-hero__visuals">
          <div class="school-profile-hero__qr">
            <%= image_tag "icons/social/L/QR-code.svg",
              width: 250,
              height: 250,
              alt: "",
              data: { theme_icon: true } %>
          </div>

          <div class="school-profile-hero__stats" aria-labelledby="teacher-stats-heading">
            <h3 id="teacher-stats-heading" class="visually-hidden">Teacher and pupil counters</h3>

            <!-- stat card 1 -->
            <article class="school-profile-hero__stat-card" data-entity="pupils" data-href="/pages/teacher/pupils.html">
              <div class="school-profile-hero__stat-label">
                <h4 class="stat-label">Pupils</h4>
              </div>
              <div class="school-profile-hero__stat-value">
                <span class="stat-value stat-value--empty">0</span>
                <span class="stat-value stat-value--filled">12</span>
                <span class="stat-awaiting">3 awaiting</span>
              </div>
            </article>

            <!-- stat card 2 -->
            <article class="school-profile-hero__stat-card" data-entity="Pupil videos" data-href="/pages/teacher/pupils-video.html">
              <div class="school-profile-hero__stat-label">
                <h4 class="stat-label">Pupil videos</h4>
              </div>
              <div class="school-profile-hero__stat-value">
                <span class="stat-value stat-value--empty">0</span>
                <span class="stat-value stat-value--filled">4</span>
                <span class="stat-awaiting">1 awaiting</span>
              </div>
            </article>

          </div>
        </div>
      </section>

      <section class="class-results" aria-label="Pupil results">
        <h2>Pupil results</h2>
        <div class="class-results__grid">

          <article class="class-result class-result--blue" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">0%</span>
            <div class="class-result__icon" aria-hidden="true">üáµüá±</div>
            <h3>Polska i ≈õwiat</h3>
          </article>

          <article class="class-result class-result--green" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">46%</span>
            <div class="class-result__icon" aria-hidden="true">üåç</div>
            <h3>Kryzys klimatyczny</h3>
          </article>

          <article class="class-result class-result--yellow" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">83%</span>
            <div class="class-result__icon" aria-hidden="true">üîî</div>
            <h3>Reakcja na alarmy</h3>
          </article>

          <article class="class-result class-result--pink" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">73%</span>
            <div class="class-result__icon" aria-hidden="true">üèÉ‚Äç‚ôÇÔ∏è</div>
            <h3>Ewakuacja</h3>
          </article>

          <article class="class-result class-result--orange" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">90%</span>
            <div class="class-result__icon" aria-hidden="true">‚ù§Ô∏è‚Äçü©π</div>
            <h3>Pierwsza pomoc</h3>
          </article>

          <article class="class-result class-result--purple" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">39%</span>
            <div class="class-result__icon" aria-hidden="true">üíª</div>
            <h3>Cyber-bezpiecze≈Ñstwo</h3>
          </article>

          <article class="class-result class-result--lime" data-href="/pages/teacher/quiz-results.html">
            <span class="class-result__progress">0%</span>
            <div class="class-result__icon" aria-hidden="true">üõ°Ô∏è</div>
            <h3>Bezpieczne zachowanie</h3>
          </article>

        </div>
      </section>
    </div>
  </main>
</div>

<!-- MODAL -->
<div class="schools-modal" id="edit-school-modal" aria-hidden="true">
  <div class="schools-modal__overlay"></div>

  <div class="schools-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="edit-school-modal-title">

    <header class="schools-modal__header">
      <h3 id="edit-school-modal-title">Edit school profile info</h3>
      <button class="schools-modal__close" type="button" aria-label="Close modal">
        <%= image_tag "icons/social/S/close.svg", alt: "" %>
      </button>
    </header>

    <form class="schools-modal__form">

      <div class="school-edit-upload">
        <%= image_tag "icons/logo/school-emblem.png",
          class: "school-edit-upload__preview",
          alt: "Current school logo",
          data: { default_src: asset_path("icons/logo/school-emblem.png") } %>

        <input class="school-edit-upload__input" id="school-logo-upload" type="file" accept="image/*" hidden>

        <button class="school-edit-upload__button" type="button">
          <%= image_tag "icons/social/S/upload.svg", alt: "", aria: { hidden: true } %>
          <span>Upload</span>
        </button>
      </div>

      <label>
        <span>School name</span>
        <input type="text" name="school_name" value="Szko≈Ça Podstawowa nr 1 im. ks. Piotra Skargi w Milan√≥wku" required>
      </label>

      <label>
        <span>School address</span>
        <input type="text" name="school_address" value="ul. Kr√≥lewska 69, 05-822 Milan√≥wek, Polska." required>
      </label>

      <div class="school-edit-form__row">
        <label>
          <span>Phone</span>
          <input type="tel" name="phone" value="+48 227 583 524" required>
        </label>
        <label>
          <span>Email</span>
          <input type="email" name="email" value="sekretariat@sp1.milanowek.pl" required>
        </label>
      </div>

      <label>
        <span>Headmaster</span>
        <input type="text" name="headmaster" value="Barbara Mazur" required>
      </label>

      <label>
        <span>Deputy headmaster</span>
        <input type="text" name="deputy_headmaster" value="Beata Soko≈Çowska">
      </label>

      <div class="schools-modal__actions">
        <button type="submit" class="schools-modal__primary">SAVE</button>
        <button type="button" class="schools-modal__secondary">CANCEL</button>
      </div>

    </form>
  </div>
</div>
